package Ubicables.Edificios;

import Exceptions.NoSePudoConstruirException;
import Exceptions.PosicionFueraDeRangoException;
import Exceptions.UbicableEstaOcupadoException;
import Jugador.Jugador;
import Tablero.Posicion;
import Turnos.Desocupado;
import Turnos.Ocupado;
import Ubicables.Unidades.Aldeano;
import Ubicables.Unidades.Espadachin;

public class Cuartel extends Edificios {
    Jugador dueño;
    public Cuartel(Posicion posicionCostruccion, Jugador jugador) throws PosicionFueraDeRangoException {
        super(posicionCostruccion, 250, 2);
        estado = new Ocupado(3);
        dueño = jugador;
    }
    public Espadachin crearEspadachin() throws UbicableEstaOcupadoException, PosicionFueraDeRangoException, NoSePudoConstruirException {
        if(estado.estaOcupado()){
            throw new UbicableEstaOcupadoException();
        }
        if(!dueño.CrearEspadachin()){
            throw new NoSePudoConstruirException();
        }
        Espadachin espadachin = new Espadachin(posicion.obtenerPosicionDeAldeano(),dueño);//spadachin(posicion.obtenerPosicionDeAldeano(),dueño); //Es posicion Despliegue
        //dueño.nuevaUnidad();
        return espadachin;
    }

    public void desocupado() {
        estado = new Desocupado();
    }
}
